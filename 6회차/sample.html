<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>비동기 데이터 통신</title>
</head>

<body>

</body>
<script>
    // https://dog.ceo/api/breeds/image/random

    const req = new XMLHttpRequest() // 요청하기 객체
    req.open("get", "https://dog.ceo/api/breeds/image/random") //요청 주소
    // 요청 잘 처리되었을 때 뭐 할지 정하기 (이벤트 핸들링)
    req.addEventListener("load", () => {
        console.log(req.response)
        let result = JSON.parse(req.response) // 강아지 소스가 포함된 json 형식 문자열
        const img = document.createElement("img") // 이미지 태그 생성
        img.src = result.message // 강아지 소스를 이미지의 소스로 지정
        document.body.appendChild(img) // 소스가 지정된 이미지를 바디에 추가
        console.log(result)
    })
    req.send() // 최종 보내기


</script>
<style>
    /* img {
        width: 100%;
        height: 100%;
        border: 1px solid black;
    } */
</style>

</html>
